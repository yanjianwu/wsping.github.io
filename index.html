<!DOCTYPE html><html lang="zh-hans"><!--*@name wsping.html*@author yanjw*@version v1.2*@createdTime 2021/02/08 11:18:30*@lastModifiedTime 2021/06/15 18:20:30--><head><meta charset="utf-8"/><meta name="viewport"content="width=device-width, initial-scale=1, maximum-scale=1"/><!--CSS--><link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"rel="stylesheet"integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"crossorigin="anonymous"/><link rel="shortcut icon"type="image/x-icon"href="/favicon.ico"/><style>html{font-size:6px}h1,h2,h3,h4,h5{font-weight:400}img{max-width:100%}main.ping{max-width:750px;padding-top:1rem}main.ping h1 small{font-size:6px}main.ping table td{width:50%}@media(max-width:575.98px){main.ping table td small{display:none}}@media(max-width:575.98px){table.iata th{display:none}table.iata td{display:inline-block;width:50%;border-top:none}table.iata tr{border-top:1px solid#dee2e6}}</style><title>网宿在线Ping测速工具</title></head><body><!--container--><div class="container mb-5"id="app"><main class="ping mx-auto"><h1>网宿在线Ping v1.6</h1><p>通过在线HTTP Ping测试从浏览器到网宿加速节点机房数据中心的网络延迟及速度。</p><p style="color: red">请使用谷歌或火狐浏览器打开,截图联系专属客服调整节点覆盖后,用户用cmd执行ipconfig/flushdns重新登录系统测试</p><div class="alert alert-success"role="alert"><span>出口IP:{{origin}}</span><span>CDNIP:{{cdnIP}}</span><span>DNSIP:{{dnsIP}}</span></div><h3><span class="font-weight-bold">亚太地区</span><button onclick="new PingTest('table1', 3);"class="btn btn-sm btn-primary">在线Ping</button></h3><table class="table table-sm ping"id="table1":v-if="show"><thead><tr><th>区域</th><th>延迟(ms)</th></tr></thead><tbody><tr v-for="item in regionList1":key="item.id":data-region="item.region"><td>{{item.name}}<small>{{item.ip}}</small></td><td><span data-latency></span></td></tr></tbody></table><h3><span class="font-weight-bold">欧中非&nbsp&nbsp</span><button onclick="new PingTest('table2', 3);"class="btn btn-sm btn-primary">在线Ping</button></h3><table class="table table-sm ping"id="table2"><thead><tr><th>区域</th><th>延迟(ms)</th></tr></thead><tbody><tr v-for="item in regionList2":key="item.id":data-region="item.region"><td>{{item.name}}<small>{{item.ip}}</small></td><td><span data-latency></span></td></tr></tbody></table><ul class="list-unstyled"><li>2021-06-15新增欧中非区域</li><li>2021-09-30新增法国巴黎2</li><li>2023-01-28支持HTTPS</li></ul></main></div><script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script><script>new Vue({el:'#app',data(){return{show:true,cdnIP:'',origin:'',dnsIP:'',regionList1:[{id:1,ip:'42.114.104.9',name:'越南',region:'ws:ap-vn-01'},{id:2,ip:'163.171.220.139',name:'印尼',region:'ws:ap-id-1'},{id:3,ip:'36.66.90.221',name:'印尼',region:'ws:ap-id-2'},{id:4,ip:'36.66.223.220',name:'印尼',region:'ws:ap-id-3'},{id:5,ip:'36.66.49.235',name:'印尼',region:'ws:ap-id-4'},{id:6,ip:'18.140.218.179',name:'新加坡',region:'ws:ap-sg-1'},{id:7,ip:'220.242.148.162',name:'新加坡',region:'ws:ap-sg-2'},{id:8,ip:'220.242.161.155',name:'新加坡',region:'ws:ap-sg-3'},{id:9,ip:'163.171.209.214',name:'新加坡',region:'ws:ap-sg-4'},{id:10,ip:'103.1.138.50',name:'新加坡',region:'ws:ap-sg-5'},{id:11,ip:'103.56.118.43',name:'香港',region:'ws:ap-hk-1'},{id:12,ip:'59.148.182.55',name:'香港',region:'ws:ap-hk-2'},{id:13,ip:'18.162.185.177',name:'香港',region:'ws:ap-hk-3'},{id:14,ip:'220.243.222.55',name:'香港',region:'ws:ap-hk-4'},{id:15,ip:'45.116.83.147',name:'香港',region:'ws:ap-hk-5'},{id:16,ip:'220.243.253.162',name:'香港',region:'ws:ap-hk-6'},{id:16,ip:'138.113.16.90',name:'香港',region:'ws:ap-hk-7'},{id:17,ip:'220.242.162.39',name:'泰国',region:'ws:ap-th-1'},{id:18,ip:'122.155.237.73',name:'泰国',region:'ws:ap-th-2'},{id:19,ip:'163.171.189.156',name:'泰国',region:'ws:ap-th-3'},{id:20,ip:'49.231.122.4',name:'泰国',region:'ws:ap-th-4'},{id:21,ip:'45.120.87.7',name:'缅甸',region:'ws:ap-mm-1'},{id:22,ip:'115.164.114.8',name:'马来西亚',region:'ws:ap-my-1'},{id:23,ip:'183.78.4.187',name:'马来西亚',region:'ws:ap-my-2'},{id:24,ip:'202.122.146.105',name:'马来西亚',region:'ws:ap-my-3'},{id:25,ip:'163.171.184.136',name:'菲律宾',region:'ws:ap-ph-01'},{id:26,ip:'163.171.186.78',name:'菲律宾',region:'ws:ap-ph-02'},{id:27,ip:'218.58.56.46',name:'青岛联通源',region:'liuhe:cnc'},{id:28,ip:'58.58.34.174',name:'青岛电信源',region:'liuhe:ct'},{id:29,ip:'google.com',name:'谷歌首页',region:'gcp:global'}],regionList2:[{id:1,ip:'220.242.157.36',name:'德国',region:'ws:emea-de-1'},{id:2,ip:'35.158.81.48',name:'德国',region:'ws:emea-de-2'},{id:3,ip:'220.242.130.7',name:'德国',region:'ws:emea-de-3'},{id:4,ip:'220.242.138.136',name:'英国',region:'ws:emea-uk-1'},{id:5,ip:'35.176.101.64',name:'英国',region:'ws:emea-uk-2'},{id:6,ip:'220.242.181.42',name:'法国',region:'ws:emea-fr-1'},{id:7,ip:'163.171.158.110',name:'法国',region:'ws:emea-fr-2'},{id:8,ip:'163.171.134.158',name:'瑞典 ',region:'ws:emea-se-1'},{id:9,ip:'163.171.149.105',name:'俄罗斯',region:'ws:emea-ru-1'},{id:10,ip:'163.171.137.207',name:'乌克兰',region:'ws:emea-ua-1'},{id:11,ip:'163.171.138.133',name:'意大利',region:'ws:emea-it-1'},{id:12,ip:'163.171.180.87',name:'埃及',region:'ws:emea-eg-1'},{id:13,ip:'218.58.56.46',name:'青岛联通源',region:'liuhe:cnc'},{id:14,ip:'58.58.34.174',name:'青岛电信源',region:'liuhe:ct'},{id:15,ip:'google.com',name:'谷歌首页',region:'gcp:global'}]}},methods:{async getCdnIP(){const res=await fetch('https://dns.alidns.com/resolve?name=ebsprd.oak.net.cn&short=true');const ips=await res.json();this.cdnIP=ips.toString()},async getOrigin(){const res=await fetch('https://httpbin.org/ip');const clientip=await res.json();this.origin=clientip.origin},async getDnsIP(){const res=await fetch('https://who.wangsu.com/?key=wstong&form=json');const dnsip=await res.json();Object.keys(dnsip?.dns).length==0?(this.dnsIP='为空,请刷新页面'):(this.dnsIP=dnsip?.dns??'N/A')}},created(){this.getCdnIP();this.getOrigin();this.getDnsIP()}});</script><!--<script src="./script.js"></script>--><script>function Ping(e){(this.success=!0),(this.inUse=!0);var t=this,n=e.regions[e.index%e.regions.length],a=new Image(),s=function(e,t){var n=t.regions[t.index%t.regions.length],a=t.latencies,s=t.table.querySelector('[data-region="'+n+'"]').querySelector('span[data-latency]');if(n in a){if(e.success){a[n].push(e.latency);var o=stats.mean(a[n]);(s.innerHTML=stats.round(o,2)),(s.className=(function(e){return e<50?'text-success':e<150?'text-info':e<300?'text-warning':e<450?'text-danger':'text-muted'})(o)),(function(e){for(var t=function(e,t){var n=e[t].querySelector('span[data-latency]').innerHTML;return(n=parseFloat(n)),isNaN(n)?1e6:n},n=1;n<e.rows.length-1;){for(var a=n;a>0&&t(e.rows,a)>t(e.rows,a+1);)e.rows[a+1].parentNode.insertBefore(e.rows[a+1],e.rows[a]),a--;n++}})(t.table)}t.checkNext()}else(a[n]=[]),e.success||(s.innerHTML='timeout'),new Ping(t)},o=Date.now();(a.onerror=function(){t.inUse&&((t.inUse=!1),(t.latency=Date.now()-o),s(t,e))}),(a.onload=function(){t.inUse&&((t.inUse=!1),(t.latency=Date.now()-o),s(t,e))});var i=pingEndpoints[n].url;(i+=pingEndpoints[n].fixed?'':'?'+Date.now().toString(36)+'='+Math.random().toString(36).substr(2)),(a.src=i),setTimeout(function(){t.inUse&&((t.inUse=!1),(t.success=!1),s(t,e))},5e3)}function PingTest(e,t){(this.table=document.getElementById(e)),(this.regions=[]);this.table===table2?(document.getElementById('table1').style.display='none'):'';for(var n=1;n<this.table.rows.length;n++)this.regions.push(this.table.rows[n].getAttribute('data-region'));(this.latencies={}),(this.index=0),new Ping(this);var a=document.getElementsByTagName('button');for(n=0;n<a.length;n++)a[n].disabled=!0;(this.checkRegion=function(){}),(this.checkNext=function(){if((this.index++,this.index<this.regions.length*t))new Ping(this);else for(var e=document.getElementsByTagName('button'),n=0;n<e.length;n++)e[n].disabled=!1})}!(function(){var e={'liuhe:ct':{url:'https://58.58.34.174:8000/OA_HTML/cabo/images/skyros/t.gif'},'liuhe:cnc':{url:'https://218.58.56.46:8000/OA_HTML/cabo/images/skyros/t.gif'},'gcp:global':{url:'https://www.google.com/favicon.ico'}};var n={'ap-vn-01':'42.114.104.9','ap-id-1':'163.171.220.139','ap-id-2':'36.66.90.221','ap-id-3':'36.66.223.220','ap-id-4':'36.66.49.235','ap-sg-1':'18.140.218.179','ap-sg-2':'220.242.148.162','ap-sg-3':'220.242.161.155','ap-sg-4':'163.171.209.214','ap-sg-5':'103.1.138.50','ap-hk-1':'103.56.118.43','ap-hk-2':'59.148.182.55','ap-hk-3':'18.162.185.177','ap-hk-4':'220.243.222.55','ap-hk-5':'45.116.83.147','ap-hk-6':'220.243.253.162','ap-hk-7':'138.113.16.90','ap-th-1':'220.242.162.39','ap-th-2':'122.155.237.73','ap-th-3':'163.171.189.156','ap-th-4':'49.231.122.4','ap-mm-1':'45.120.87.7','ap-my-1':'115.164.114.8','ap-my-2':'183.78.4.187','ap-my-3':'202.122.146.105','ap-ph-01':'163.171.184.136','ap-ph-02':'163.171.186.78','emea-de-1':'220.242.157.36','emea-de-2':'35.158.81.48','emea-de-3':'220.242.130.7','emea-uk-1':'220.242.138.136','emea-uk-2':'35.176.101.64','emea-fr-1':'220.242.181.42','emea-fr-2':'163.171.158.110','emea-se-1':'163.171.134.158','emea-ru-1':'163.171.149.105','emea-ua-1':'163.171.137.207','emea-it-1':'163.171.138.133','emea-eg-1':'163.171.180.87'};for(key in n)e['ws:'+key]={url:'https://'+n[key]+':8000/OA_HTML/cabo/images/skyros/t.gif'};window.pingEndpoints=e})();var stats={sum:function(e){var t=0;return(e.forEach(function(e){t+=e}),t)},squareSum:function(e){var t=0;return(e.forEach(function(e){t+=e*e}),t)},mean:function(e){return stats.sum(e)/e.length},std:function(e){var t=stats.mean(e);return Math.sqrt(stats.squareSum(e)/e.length-t*t)},min:function(e){return Math.min.apply(null,e)},max:function(e){return Math.max.apply(null,e)},round:function(e,t){return Math.round(+e+'e'+t)/Math.pow(10,t)}};</script><!--/container--></body></html>
